<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
	<meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no">
  <!--
  Apple-Specific Meta Tag Keys
  https://developer.apple.com/library/safari/documentation/AppleApplications/Reference/SafariHTMLRef/Articles/MetaTags.html#//apple_ref/doc/uid/TP40008193-SW2
-->
<!-- // Safari iOS apps only -->
<!-- Sets whether a web application runs in full-screen mode -->
<meta name="apple-mobile-web-app-capable" content="yes">
<!-- Sets the style of the status bar for a web application -->
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<!-- // Chrome for Android -->
<meta name="mobile-web-app-capable" content="yes">
<title>Telenor Dekning</title>

<link rel="stylesheet" href="http://js.arcgis.com/3.10/js/esri/css/esri.css">
<script src="http://js.arcgis.com/3.10/"></script>

<script>
	require(["esri/map", "esri/layers/ArcGISDynamicMapServiceLayer", "esri/dijit/BasemapToggle", "dojo/domReady!"], function(Map, ArcGISDynamicMapServiceLayer, BasemapToggle) {
		map = new Map("mapDiv", {
			center: [10, 63],
			zoom: 5,
			basemap: "streets"
		});

		var DekningToken = "sg0Aq_ztEufQ6N-nw_NLkyRYRoQArMLOcLFPT77jzeKrqCbVdow5BAnbh6x-7lHs";
		var DekningUrl = "http://153.110.250.77/arcgis/rest/services/covragemap/coveragemap2/MapServer?token=" + DekningToken;

		var dekningsLayer = new ArcGISDynamicMapServiceLayer(DekningUrl, {
			opacity: 0.5
		});
		var layers = [3,7,9]

		dekningsLayer.setVisibleLayers(layers);
		map.addLayer(dekningsLayer);

		toggleLayer = function(id){
			if(layers.indexOf(id) < 0){
				layers.push(id);
			} else {
				layers.pop(id);
			}
			dekningsLayer.setVisibleLayers(layers);
		}

		setBaseMap = function(basemap){
			map.setBasemap(basemap);
		}

		var toggle = new BasemapToggle({
			map: map,
			basemap: "satellite"
		}, "basemapToggle");
		toggle.startup();
	});
</script>
<style>
	html, body, #mapDiv {
		padding: 0;
		margin: 0;
		height: 100%;
	}

    #basemapToggle {
      position: absolute;
      top: 20px;
      right: 20px;
      z-index: 50;
    }
</style>
</head>

<body>
	<div id="mapDiv">
		<div id="basemapToggle"></div>
	</div>
</body>

</html>